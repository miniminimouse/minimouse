/* set your table/variable here */
%let data = work.lgd_stage_all;
%let var  = REFR_LTV;   /* change to any numeric var you want to inspect */

/* show ods table names in the log */
ods trace on / listing;

/* capture the three stationarity tables into work */
ods output ADF        = _adf_view;
proc autoreg data=&data;
  model &var = / stationarity=(adf=(0 1 2 3));
run;

ods output PhilPerron = _pp_view;
proc autoreg data=&data;
  model &var = / stationarity=(pp);
run;

ods output KPSS       = _kpss_view;
proc autoreg data=&data;
  model &var = / stationarity=(kpss=(kernel=qs auto));
run;

ods trace off;

/* peek columns, types, and labels so you can find the p-value column names */
title "columns + labels in _ADF_VIEW";
proc contents data=_adf_view varnum; run;
proc sql;
  select name, label, type, length, format
  from dictionary.columns
  where upcase(libname)='WORK' and upcase(memname)='_ADF_VIEW'
  order by varnum;
quit;
proc print data=_adf_view(obs=10) label; run;

title "columns + labels in _PP_VIEW";
proc contents data=_pp_view varnum; run;
proc sql;
  select name, label, type, length, format
  from dictionary.columns
  where upcase(libname)='WORK' and upcase(memname)='_PP_VIEW'
  order by varnum;
quit;
proc print data=_pp_view(obs=10) label; run;

title "columns + labels in _KPSS_VIEW";
proc contents data=_kpss_view varnum; run;
proc sql;
  select name, label, type, length, format
  from dictionary.columns
  where upcase(libname)='WORK' and upcase(memname)='_KPSS_VIEW'
  order by varnum;
quit;
proc print data=_kpss_view(obs=10) label; run;
title;